<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Metaverse Music</title>
    <script src="index.js"></script>
    <script src="https://rawgit.com/rdub80/aframe-gui/master/dist/aframe-gui.min.js"></script>
</head>
<body class=""><div id="overlay-wrapper" class="">
    <div class="rainbow-bg z-10">
    <canvas
        id="confetti-canvas"
        class="absolute w-full h-full z-10"
    >   
</canvas>
</div>
    <div
    class="absolute w-screen min-h-full max-h-full z-50 overflow-y-scroll"
    >
<div class="relative w-full flex flex-col justify-center items-center my-12">
<main class="max-w-2xl mx-4 z-50 p-12 rounded-lg drop-shadow-lg bg-slate-100 opacity-95">
    <div class="text-center">
      <h1 class="text-4xl tracking-tight font-extrabold text-gray-900 sm:text-5xl md:text-6xl">
        <span class="block xl:inline">Metaverse</span>
        <span class="block text-indigo-600 xl:inline">Music</span>
      </h1>
      <p class="text-left mt-3 max-w-md mx-auto text-base text-gray-500 sm:text-lg md:mt-5 md:text-xl md:max-w-3xl">Ever wonder how music might exist in the metaverse? Metaverse music is a WebXR prototype that puts you inside of a song, creating a spatial, interactive audio experience. Jump in and find out how cool music can be!</p>
      <p id='ios' class="hidden text-left mt-3 max-w-md mx-auto text-base text-gray-500 sm:text-lg md:mt-5 md:text-xl md:max-w-3xl"><b>NOTE:</b> if you are using an iphone, please access this webpage through the <a href="https://apps.apple.com/us/app/webxr-viewer/id1295998056" class='text-blue-500 hover:text-blue-700'>WebXR Viewer app</a>.</p>
      <p class="text-left mt-3 max-w-md mx-auto text-xl md:text-2xl text-gray-500 sm:text-lg md:mt-5 md:max-w-3xl">Select a song below or <a class="font-bold text-blue-500 hover:underline" href="/create.html">create a new song!</a></p>
      <div class="mt-8 flex flex-col">
        <div class="-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8">
          <div class="inline-block min-w-full py-2 align-middle md:px-6 lg:px-8">
            <div class="overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg">
              <table class="min-w-full divide-y divide-gray-300">
                <thead class="bg-gray-50">
                  <tr>
                    <th scope="col" class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6">Title</th>
                    <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">Arist</th>
                    </th>
                  </tr>
                </thead>
                <tbody id="song-table" class="bg-white text-left">
                    <tr>
                        <td class="whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6">Loading...</td>
                        <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500">Loading...</td>
                    </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
      <p class="mt-3 max-w-md mx-auto text-base text-gray-500 sm:text-lg md:mt-5 md:text-xl md:max-w-3xl font-bold">Please use headphones to best enjoy this spatial auditory experience!</p>
      <div class="mt-5 max-w-md mx-auto sm:flex sm:justify-center md:mt-8">
        
        <div class="rounded-md shadow">
          <a id="myEnterVRButton" href="#" class="experience-start hidden w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 md:py-4 md:text-lg md:px-10"> Start VR </a>
        </div>
        <div class="mt-3 rounded-md shadow sm:mt-0 sm:ml-3">
          <a id="myEnterARButton" href="#" class="experience-start hidden w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-indigo-600 bg-white hover:bg-gray-50 md:py-4 md:text-lg md:px-10"> Start AR </a>
        </div>
      </div>
    </div>
  </main>
</div>
</div>

</div>





    <a-scene 
        
        renderer="colorManagement: true;" 
        webxr
        vr-mode-ui="enterVRButton: #myEnterVRButton; enterARButton: #myEnterARButton">
    
        <a-assets>
            <a-asset-item id="keys" src="assets/models/piano.glb"></a-asset-item>
            <a-asset-item id="bass" src="assets/models/bass.glb"></a-asset-item>
            <a-asset-item id="drums" src="assets/models/drums.glb"></a-asset-item>
            <a-asset-item id="strings" src="assets/models/guitar.glb"></a-asset-item>
            <a-asset-item id="vocals" src="assets/models/vocals.glb"></a-asset-item>
            <a-asset-item id="other" src="assets/models/other.glb"></a-asset-item>
            <img id="paris" src="assets/paris.jpg">
            <!-- <audio id="violin1" src="assets/Voilin 1 A.mp3" preload="auto"></audio>
            <audio id="violin2" src="assets/Voilin 2 A.mp3" preload="auto"></audio>
            <audio id="viola" src="assets/Viola A.mp3" preload="auto"></audio>
            <audio id="chello" src="assets/Chello A.mp3" preload="auto"></audio> -->
            <a-asset-item id="textfont3" src="assets/Plaster-Regular.ttf"></a-asset-item>
        </a-assets>
        
        <a-sky hide-on-enter-ar src="#paris"></a-sky>
        <!-- <a-sky color="lightblue"></a-sky> -->
        
        <a-entity id="main-camera" camera="active: true" look-controls wasd-controls position="0 1.6 0">
            <a-entity cursor="fuse: false;"
                raycaster="objects: .collidable"
                position="0 0 -0.9"
                geometry="primitive: ring; radiusInner: 0.003; radiusOuter: 0.006"
                material="color: black; shader: flat">
            </a-entity>
        </a-entity>

        <!-- UI -->

        <!-- Explainer UI -->
        <a-entity 
            position="-3 4 -6"
            rotation="20 40 0"  
        >
            <a-entity
                button="text: Welcome to Metaverse Music; width: 3.8; height: 0.57; wrapOffset: 4; canInteract: false;"
                position="0 1.2 0.02"
            ></a-entity>
            
            <a-entity
                geometry="primitive: box; height: 1.34; width: 3.8; depth: 0.02"
                position="0 0.188 0.02"
                material="color: #f066d2"

            >
                <a-entity
                    id="explainer-text"
                    text="width: 3.6; font: monoid; value: Welcome to the wonderful world of spatial audio! You are currently listening to Nothing Good Comes Easy by Felix Cartel, which features Vocals, Bass, Drums, Keys and Strings stems. Press play below to start the track!;"
                    position="0 0 0.02"
                    geometry="primitive: plane; height: 3; width: 4"
                    material="opacity: 0; depthTest: false"

                >
                </a-entity>
            </a-entity>
            <a-entity
                    class=""
                    id="play-btn"
                    button="text: Play Song; width: 2; height: 0.77; bgColor: #0aff74; bgColorHover: #a018fb; colorHover: #ffc800; color: #fff;"
                    position="0.0 -0.92 0.02"
                >
            </a-entity>
        </a-entity>
        
        
        <!-- Arrange UI -->

        <a-entity 
            position="3 4 -6"
            rotation="20 -40 0"  
        >
            <a-entity
                button="text: Spatially arrange you stems; width: 3.8; height: 0.57; wrapOffset: 4; canInteract: false;"
                position="0 1.2 0.02"
            ></a-entity>
            
            <a-entity
                geometry="primitive: box; height: 1.34; width: 3.8; depth: 0.02"
                position="0 0.190 0.02"
                material="color: #38699f;"
            >
                
                <a-entity
                text="value: As you move around the scene, the spatial location of the audio changes. You can create your own soundscape by clicking and dragging instruments, or can select from some preset arrangements below!; width: 3.6; font: monoid;"
                position="0 0 0.02"

            >
            </a-entity>
        </a-entity>
            
            <a-entity
                data-postype="mono"
                class="instrument-position-btn"
                button="text: MONO; width: 1.4; height: 0.5; bgColor: #283d8f;"
                position="-0.736 -0.8 0.02"
            >
            </a-entity>
            <a-entity
                data-postype="stereo"
                class="instrument-position-btn"
                button="text: STEREO; width: 1.4; height: 0.5; bgColor: #283d8f;"
                position="0.736 -0.8 0.02"
                >
            </a-entity>
            <a-entity
                data-postype="surround"
                class="instrument-position-btn"
                button="text: SURROUND; width: 1.4; height: 0.5; bgColor: #283d8f;"
                position="-0.736 -1.37 0.02"
            >
            </a-entity>
            <a-entity
            data-postype="stage"
            class="instrument-position-btn"
            button="text: STAGE; width: 1.4; height: 0.5; bgColor: #283d8f;"
            position="0.736 -1.37 0.02"
            >
            </a-entity>        
        </a-entity>

        <!-- <a-entity
            music-player-ui
            position="0 2 -1"
        ></a-entity> 
        <a-entity
            geometry="primitive: plane; width: 1; height: 1"
            position="-1 2 -1"
        >
            <a-entity
                geometry="primitive: plane; width: 0.9; height: 0.5"
                text="value: Connect Sequence; align: center; anchor: center"
                position="0 0 0.01"
                wallet-sequence
            ></a-entity>
        </a-entity> -->
        <!-- <a-entity
            instrument-ui
        ></a-entity> -->
        <a-entity
            id='instrument-controller'
            instrument-controller
            position="0 0 0"
        ></a-entity>
    </a-scene>
   
</body>
</html>